[gd_scene load_steps=12 format=3 uid="uid://b1lffgynjolq"]

[ext_resource type="Script" uid="uid://cahvujs6lj3sr" path="res://07-07_07-13 fruit ninja/fruit.gd" id="1_1lle2"]
[ext_resource type="Texture2D" uid="uid://b3x3mn7wggntl" path="res://assets/blacknwhite/blueberry.png" id="2_u4kvt"]
[ext_resource type="Texture2D" uid="uid://i8pkolgal7j1" path="res://assets/blacknwhite/peach.png" id="3_dfwep"]
[ext_resource type="Texture2D" uid="uid://cq7bavf2ce35f" path="res://assets/blacknwhite/strawberry.png" id="4_oddyq"]
[ext_resource type="Texture2D" uid="uid://h4mb86tlrv14" path="res://assets/blacknwhite/arrows.png" id="5_dfwep"]
[ext_resource type="Texture2D" uid="uid://mytmvgo1c8nu" path="res://assets/blacknwhite/target_2.png" id="6_pwpfv"]
[ext_resource type="Texture2D" uid="uid://cwt7i1lg4j3bp" path="res://assets/blacknwhite/slash_animation_2.png" id="7_pwpfv"]

[sub_resource type="AtlasTexture" id="AtlasTexture_oddyq"]
atlas = ExtResource("5_dfwep")
region = Rect2(0, 0, 23, 23)

[sub_resource type="Animation" id="Animation_bkyca"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("SliceSprite:hframes")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [5]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("SliceSprite:vframes")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [1]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("SliceSprite:visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="Animation" id="Animation_n5hy4"]
resource_name = "slice"
length = 0.250004
step = 0.0416667
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("SliceSprite:hframes")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [5]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("SliceSprite:vframes")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [1]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("SliceSprite:frame")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0.0416667, 0.0833333, 0.125, 0.166667),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [0, 1, 3, 4]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("SliceSprite:visible")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.208333),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [true, false]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_gtbpm"]
_data = {
&"RESET": SubResource("Animation_bkyca"),
&"slice": SubResource("Animation_n5hy4")
}

[node name="Fruit" type="RigidBody2D" node_paths=PackedStringArray("fruit_sprite", "slice_direction_sprite", "target_sprite", "animation_player", "slice_sprite", "expire_timer")]
gravity_scale = 0.4
script = ExtResource("1_1lle2")
fruit_sprite = NodePath("FruitSprite")
fruit_textures = [ExtResource("2_u4kvt"), ExtResource("3_dfwep"), ExtResource("4_oddyq")]
arrow_textures = SubResource("AtlasTexture_oddyq")
slice_direction_sprite = NodePath("SliceDirectionSprite")
target_sprite = NodePath("TargetSprite")
animation_player = NodePath("AnimationPlayer")
slice_sprite = NodePath("SliceSprite")
expire_timer = NodePath("ExpireTimer")

[node name="FruitSprite" type="Sprite2D" parent="."]
texture = ExtResource("3_dfwep")

[node name="SliceDirectionSprite" type="Sprite2D" parent="."]
position = Vector2(0, 5)

[node name="TargetSprite" type="Sprite2D" parent="."]
texture = ExtResource("6_pwpfv")

[node name="SliceSprite" type="Sprite2D" parent="."]
visible = false
texture = ExtResource("7_pwpfv")
hframes = 5
frame = 4

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_gtbpm")
}

[node name="ExpireTimer" type="Timer" parent="."]
one_shot = true

[connection signal="animation_finished" from="AnimationPlayer" to="." method="_on_animation_player_animation_finished"]
